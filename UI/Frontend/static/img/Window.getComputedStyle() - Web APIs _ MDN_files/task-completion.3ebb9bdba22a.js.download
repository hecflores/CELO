(function(win,doc,$){if(win.mdn.features.localStorage){var ignore=localStorage.getItem("helpful-ignore")==="true";var helpfulnessAskedRecently=parseInt(localStorage.getItem("helpfulnessTracker"),10)>Date.now();var taskAskedRecently=parseInt(localStorage.getItem("taskTracker"),10)>Date.now();if(!ignore&&!taskAskedRecently&&!helpfulnessAskedRecently){inquire()}}function inquire(){if(win.ga)ga("set","dimension14","Yes");ga("send","event","survey","prompt","impression",{nonInteraction:true});var path=encodeURIComponent(window.location.pathname);var clickTime=Date.now()+1e3*60*20;var surveyURL="https://www.surveygizmo.com/s3/2980494/do-or-do-not";var surveyLink=surveyURL+"?"+"&t="+clickTime+"&p="+path;var ask="Would you answer 4 questions for us? <a id='task-link' target='_blank' href='"+surveyLink+"'>Open the survey in a new tab</a> and fill it out when you're done on the site. Thanks!";var notification=mdn.Notifier.growl(ask,{closable:true,duration:0}).question();localStorage.setItem("taskTracker",Date.now()+1e3*60*60*24*32);ga(function(tracker){var clientId=tracker.get("clientId");surveyLink+="&c="+clientId;$("#task-link").attr("href",surveyLink)});$("#task-link").on("click",function(){ga("send","event","survey","prompt","participate",{nonInteraction:false});notification.success("We look forward to your feedback!",2e3)})}})(window,document,jQuery);