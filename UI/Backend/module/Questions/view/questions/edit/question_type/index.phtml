<?php
/**
 * Created by PhpStorm.
 * User: Hector
 * Date: 2/27/2017
 * Time: 5:43 AM
 */
/** @var \Application\Model\QuestionType[] $types */

use Application\Info;
echo "<h2>Question Types <b>(".count($types).")</b></h2>"
?>
<div class="form-inline row" style="display: inline-flex;">
    <div style="display: inline-block;margin-right:10px" >
        <div data-toggle="collapse" data-target="#formContainer" class="btn btn-primary ">New Type</div>
    </div>
    <div  class="collapse inline " id="formContainer">
        <form role="form" data-toggle="validator" id='enterNameForm' action="/questions/question-types/create" method="post" class=" form-inline">

                <input required data-minlength="5" name='name' id='name' class="form-control" type="text" placeholder="Enter the name"/>
                <input class="form-control btn btn-success" type="submit" value="Create"/>
                <span data-toggle="collapse" data-target="#formContainer" class="form-control btn btn-primary" >Cancel</span>

        </form>
    </div>
</div>
<table class="table">
    <thead>
        <tr>
            <th></th>
            <th></th>
            <th>ID</th>
            <th>Name</th>
        </tr>
    </thead>
    <tbody>
    <?php

    foreach($types as $type)
    {
        $url=Info::Url()."/".$type->getQuestionTypeID();
        $createUrl="/questions/questions/create/".$type->getQuestionTypeID();
        echo "<tr>".
             "    <td><a href='$url' class='btn btn-primary'>Edit</a></td>".
            "      <td><a href='$createUrl' class='btn btn-primary'>Create Question</a></td>".
             "    <td>{$type->getQuestionTypeID()}</td>".
             "    <td>{$type->getName()}</td>".
             "</tr>";
    }
    ?>
    </tbody>
</table>
<script>
    $(document).ready(function() {

        /*******************************************************************/
        /* Validate Form                                                   */
        /*******************************************************************/
        $("#enterNameForm").validator.on('submit',function(e){
            if (e.isDefaultPrevented()) {
                // handle the invalid form...
            } else {
                // everything looks good!
            }

        });
    });
</script>



